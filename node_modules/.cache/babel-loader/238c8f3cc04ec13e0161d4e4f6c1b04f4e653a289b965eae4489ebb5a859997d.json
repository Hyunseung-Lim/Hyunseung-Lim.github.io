{"ast":null,"code":"import{useState,useEffect,useCallback}from'react';export const useInfiniteCarousel=function(images){let autoSlideInterval=arguments.length>1&&arguments[1]!==undefined?arguments[1]:5000;let transitionDuration=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1000;const extendedImages=[images[images.length-1],...images,images[0]];const[currentIndex,setCurrentIndex]=useState(1);const[isTransitioning,setIsTransitioning]=useState(false);const nextSlide=useCallback(()=>{if(!isTransitioning){setIsTransitioning(true);setCurrentIndex(prevIndex=>prevIndex+1);}},[isTransitioning]);useEffect(()=>{const interval=setInterval(nextSlide,autoSlideInterval);return()=>clearInterval(interval);},[nextSlide,autoSlideInterval]);useEffect(()=>{if(!isTransitioning)return;const handleTransitionEnd=()=>{setIsTransitioning(false);if(currentIndex===extendedImages.length-1){setTimeout(()=>setCurrentIndex(1),0);}if(currentIndex===0){setTimeout(()=>setCurrentIndex(images.length),0);}};const timeout=setTimeout(handleTransitionEnd,transitionDuration);return()=>clearTimeout(timeout);},[currentIndex,extendedImages.length,images.length,isTransitioning,transitionDuration]);const sliderStyle={width:\"\".concat(extendedImages.length*100,\"%\"),transform:\"translateX(-\".concat(currentIndex*100/extendedImages.length,\"%)\"),transition:isTransitioning?\"transform \".concat(transitionDuration,\"ms ease-in-out\"):'none'};return{extendedImages,currentIndex,isTransitioning,sliderStyle};};","map":{"version":3,"names":["useState","useEffect","useCallback","useInfiniteCarousel","images","autoSlideInterval","arguments","length","undefined","transitionDuration","extendedImages","currentIndex","setCurrentIndex","isTransitioning","setIsTransitioning","nextSlide","prevIndex","interval","setInterval","clearInterval","handleTransitionEnd","setTimeout","timeout","clearTimeout","sliderStyle","width","concat","transform","transition"],"sources":["C:/Users/HyunseungLim/Desktop/git/Hyunseung-Lim.github.io/src/hooks/useInfiniteCarousel.js"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\n\nexport const useInfiniteCarousel = (images, autoSlideInterval = 5000, transitionDuration = 1000) => {\n  const extendedImages = [images[images.length - 1], ...images, images[0]];\n  const [currentIndex, setCurrentIndex] = useState(1);\n  const [isTransitioning, setIsTransitioning] = useState(false);\n\n  const nextSlide = useCallback(() => {\n    if (!isTransitioning) {\n      setIsTransitioning(true);\n      setCurrentIndex(prevIndex => prevIndex + 1);\n    }\n  }, [isTransitioning]);\n\n  useEffect(() => {\n    const interval = setInterval(nextSlide, autoSlideInterval);\n    return () => clearInterval(interval);\n  }, [nextSlide, autoSlideInterval]);\n\n  useEffect(() => {\n    if (!isTransitioning) return;\n\n    const handleTransitionEnd = () => {\n      setIsTransitioning(false);\n      \n      if (currentIndex === extendedImages.length - 1) {\n        setTimeout(() => setCurrentIndex(1), 0);\n      }\n      \n      if (currentIndex === 0) {\n        setTimeout(() => setCurrentIndex(images.length), 0);\n      }\n    };\n\n    const timeout = setTimeout(handleTransitionEnd, transitionDuration);\n    return () => clearTimeout(timeout);\n  }, [currentIndex, extendedImages.length, images.length, isTransitioning, transitionDuration]);\n\n  const sliderStyle = {\n    width: `${extendedImages.length * 100}%`,\n    transform: `translateX(-${(currentIndex * 100) / extendedImages.length}%)`,\n    transition: isTransitioning ? `transform ${transitionDuration}ms ease-in-out` : 'none'\n  };\n\n  return {\n    extendedImages,\n    currentIndex,\n    isTransitioning,\n    sliderStyle\n  };\n};"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CAExD,MAAO,MAAM,CAAAC,mBAAmB,CAAG,QAAAA,CAACC,MAAM,CAA0D,IAAxD,CAAAC,iBAAiB,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,IAAI,IAAE,CAAAG,kBAAkB,CAAAH,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,IAAI,CAC7F,KAAM,CAAAI,cAAc,CAAG,CAACN,MAAM,CAACA,MAAM,CAACG,MAAM,CAAG,CAAC,CAAC,CAAE,GAAGH,MAAM,CAAEA,MAAM,CAAC,CAAC,CAAC,CAAC,CACxE,KAAM,CAACO,YAAY,CAAEC,eAAe,CAAC,CAAGZ,QAAQ,CAAC,CAAC,CAAC,CACnD,KAAM,CAACa,eAAe,CAAEC,kBAAkB,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CAE7D,KAAM,CAAAe,SAAS,CAAGb,WAAW,CAAC,IAAM,CAClC,GAAI,CAACW,eAAe,CAAE,CACpBC,kBAAkB,CAAC,IAAI,CAAC,CACxBF,eAAe,CAACI,SAAS,EAAIA,SAAS,CAAG,CAAC,CAAC,CAC7C,CACF,CAAC,CAAE,CAACH,eAAe,CAAC,CAAC,CAErBZ,SAAS,CAAC,IAAM,CACd,KAAM,CAAAgB,QAAQ,CAAGC,WAAW,CAACH,SAAS,CAAEV,iBAAiB,CAAC,CAC1D,MAAO,IAAMc,aAAa,CAACF,QAAQ,CAAC,CACtC,CAAC,CAAE,CAACF,SAAS,CAAEV,iBAAiB,CAAC,CAAC,CAElCJ,SAAS,CAAC,IAAM,CACd,GAAI,CAACY,eAAe,CAAE,OAEtB,KAAM,CAAAO,mBAAmB,CAAGA,CAAA,GAAM,CAChCN,kBAAkB,CAAC,KAAK,CAAC,CAEzB,GAAIH,YAAY,GAAKD,cAAc,CAACH,MAAM,CAAG,CAAC,CAAE,CAC9Cc,UAAU,CAAC,IAAMT,eAAe,CAAC,CAAC,CAAC,CAAE,CAAC,CAAC,CACzC,CAEA,GAAID,YAAY,GAAK,CAAC,CAAE,CACtBU,UAAU,CAAC,IAAMT,eAAe,CAACR,MAAM,CAACG,MAAM,CAAC,CAAE,CAAC,CAAC,CACrD,CACF,CAAC,CAED,KAAM,CAAAe,OAAO,CAAGD,UAAU,CAACD,mBAAmB,CAAEX,kBAAkB,CAAC,CACnE,MAAO,IAAMc,YAAY,CAACD,OAAO,CAAC,CACpC,CAAC,CAAE,CAACX,YAAY,CAAED,cAAc,CAACH,MAAM,CAAEH,MAAM,CAACG,MAAM,CAAEM,eAAe,CAAEJ,kBAAkB,CAAC,CAAC,CAE7F,KAAM,CAAAe,WAAW,CAAG,CAClBC,KAAK,IAAAC,MAAA,CAAKhB,cAAc,CAACH,MAAM,CAAG,GAAG,KAAG,CACxCoB,SAAS,gBAAAD,MAAA,CAAkBf,YAAY,CAAG,GAAG,CAAID,cAAc,CAACH,MAAM,MAAI,CAC1EqB,UAAU,CAAEf,eAAe,cAAAa,MAAA,CAAgBjB,kBAAkB,mBAAmB,MAClF,CAAC,CAED,MAAO,CACLC,cAAc,CACdC,YAAY,CACZE,eAAe,CACfW,WACF,CAAC,CACH,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}