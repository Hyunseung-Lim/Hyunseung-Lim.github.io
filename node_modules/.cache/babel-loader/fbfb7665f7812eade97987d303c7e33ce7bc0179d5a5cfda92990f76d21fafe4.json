{"ast":null,"code":"import React,{useState,useEffect,useRef}from\"react\";import\"./segmentedbutton.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const SegmentedControl=_ref=>{let{name,callback,controlRef,segments}=_ref;const[activeIndex,setActiveIndex]=useState(0);const[sliderStyle,setSliderStyle]=useState({});const buttonRefs=useRef([]);const handleSegmentClick=(index,value)=>{setActiveIndex(index);updateSliderPosition(index);if(callback){callback(value);}};const updateSliderPosition=index=>{const button=buttonRefs.current[index];if(button){const{offsetLeft,offsetWidth}=button;const parentPadding=4;// segmented-control padding\nsetSliderStyle({transform:\"translateX(\".concat(offsetLeft-parentPadding,\"px)\"),width:\"\".concat(offsetWidth,\"px\"),left:\"\".concat(parentPadding,\"px\")});}};useEffect(()=>{// 초기 슬라이더 위치 설정\nsetTimeout(()=>updateSliderPosition(0),100);if(callback&&segments[0]){callback(segments[0].value);}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);useEffect(()=>{// 윈도우 리사이즈 시 슬라이더 위치 재조정\nconst handleResize=()=>{updateSliderPosition(activeIndex);};window.addEventListener('resize',handleResize);return()=>window.removeEventListener('resize',handleResize);},[activeIndex]);return/*#__PURE__*/_jsxs(\"div\",{className:\"segmented-control\",ref:controlRef,children:[/*#__PURE__*/_jsx(\"div\",{className:\"slider\",style:sliderStyle}),segments.map((segment,index)=>/*#__PURE__*/_jsx(\"button\",{ref:el=>{buttonRefs.current[index]=el;if(segment.ref)segment.ref.current=el;},className:\"segmented-button \".concat(activeIndex===index?'active':''),onClick:()=>handleSegmentClick(index,segment.value),children:segment.label},segment.value))]});};","map":{"version":3,"names":["React","useState","useEffect","useRef","jsx","_jsx","jsxs","_jsxs","SegmentedControl","_ref","name","callback","controlRef","segments","activeIndex","setActiveIndex","sliderStyle","setSliderStyle","buttonRefs","handleSegmentClick","index","value","updateSliderPosition","button","current","offsetLeft","offsetWidth","parentPadding","transform","concat","width","left","setTimeout","handleResize","window","addEventListener","removeEventListener","className","ref","children","style","map","segment","el","onClick","label"],"sources":["C:/Users/HyunseungLim/Desktop/git/Hyunseung-Lim.github.io/src/Components/SegmentedButton/segmentedbutton.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport \"./segmentedbutton.css\";\n\nexport const SegmentedControl = ({ name, callback, controlRef, segments }) => {\n    const [activeIndex, setActiveIndex] = useState(0);\n    const [sliderStyle, setSliderStyle] = useState({});\n    const buttonRefs = useRef([]);\n\n    const handleSegmentClick = (index, value) => {\n        setActiveIndex(index);\n        updateSliderPosition(index);\n        if (callback) {\n            callback(value);\n        }\n    };\n\n    const updateSliderPosition = (index) => {\n        const button = buttonRefs.current[index];\n        if (button) {\n            const { offsetLeft, offsetWidth } = button;\n            const parentPadding = 4; // segmented-control padding\n            setSliderStyle({\n                transform: `translateX(${offsetLeft - parentPadding}px)`,\n                width: `${offsetWidth}px`,\n                left: `${parentPadding}px`\n            });\n        }\n    };\n\n    useEffect(() => {\n        // 초기 슬라이더 위치 설정\n        setTimeout(() => updateSliderPosition(0), 100);\n        \n        if (callback && segments[0]) {\n            callback(segments[0].value);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    useEffect(() => {\n        // 윈도우 리사이즈 시 슬라이더 위치 재조정\n        const handleResize = () => {\n            updateSliderPosition(activeIndex);\n        };\n        \n        window.addEventListener('resize', handleResize);\n        return () => window.removeEventListener('resize', handleResize);\n    }, [activeIndex]);\n\n    return (\n        <div className=\"segmented-control\" ref={controlRef}>\n            <div className=\"slider\" style={sliderStyle}></div>\n            {segments.map((segment, index) => (\n                <button\n                    key={segment.value}\n                    ref={(el) => {\n                        buttonRefs.current[index] = el;\n                        if (segment.ref) segment.ref.current = el;\n                    }}\n                    className={`segmented-button ${activeIndex === index ? 'active' : ''}`}\n                    onClick={() => handleSegmentClick(index, segment.value)}\n                >\n                    {segment.label}\n                </button>\n            ))}\n        </div>\n    );\n};"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAC1D,MAAO,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE/B,MAAO,MAAM,CAAAC,gBAAgB,CAAGC,IAAA,EAA8C,IAA7C,CAAEC,IAAI,CAAEC,QAAQ,CAAEC,UAAU,CAAEC,QAAS,CAAC,CAAAJ,IAAA,CACrE,KAAM,CAACK,WAAW,CAAEC,cAAc,CAAC,CAAGd,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAACe,WAAW,CAAEC,cAAc,CAAC,CAAGhB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAClD,KAAM,CAAAiB,UAAU,CAAGf,MAAM,CAAC,EAAE,CAAC,CAE7B,KAAM,CAAAgB,kBAAkB,CAAGA,CAACC,KAAK,CAAEC,KAAK,GAAK,CACzCN,cAAc,CAACK,KAAK,CAAC,CACrBE,oBAAoB,CAACF,KAAK,CAAC,CAC3B,GAAIT,QAAQ,CAAE,CACVA,QAAQ,CAACU,KAAK,CAAC,CACnB,CACJ,CAAC,CAED,KAAM,CAAAC,oBAAoB,CAAIF,KAAK,EAAK,CACpC,KAAM,CAAAG,MAAM,CAAGL,UAAU,CAACM,OAAO,CAACJ,KAAK,CAAC,CACxC,GAAIG,MAAM,CAAE,CACR,KAAM,CAAEE,UAAU,CAAEC,WAAY,CAAC,CAAGH,MAAM,CAC1C,KAAM,CAAAI,aAAa,CAAG,CAAC,CAAE;AACzBV,cAAc,CAAC,CACXW,SAAS,eAAAC,MAAA,CAAgBJ,UAAU,CAAGE,aAAa,OAAK,CACxDG,KAAK,IAAAD,MAAA,CAAKH,WAAW,MAAI,CACzBK,IAAI,IAAAF,MAAA,CAAKF,aAAa,MAC1B,CAAC,CAAC,CACN,CACJ,CAAC,CAEDzB,SAAS,CAAC,IAAM,CACZ;AACA8B,UAAU,CAAC,IAAMV,oBAAoB,CAAC,CAAC,CAAC,CAAE,GAAG,CAAC,CAE9C,GAAIX,QAAQ,EAAIE,QAAQ,CAAC,CAAC,CAAC,CAAE,CACzBF,QAAQ,CAACE,QAAQ,CAAC,CAAC,CAAC,CAACQ,KAAK,CAAC,CAC/B,CACA;AACJ,CAAC,CAAE,EAAE,CAAC,CAENnB,SAAS,CAAC,IAAM,CACZ;AACA,KAAM,CAAA+B,YAAY,CAAGA,CAAA,GAAM,CACvBX,oBAAoB,CAACR,WAAW,CAAC,CACrC,CAAC,CAEDoB,MAAM,CAACC,gBAAgB,CAAC,QAAQ,CAAEF,YAAY,CAAC,CAC/C,MAAO,IAAMC,MAAM,CAACE,mBAAmB,CAAC,QAAQ,CAAEH,YAAY,CAAC,CACnE,CAAC,CAAE,CAACnB,WAAW,CAAC,CAAC,CAEjB,mBACIP,KAAA,QAAK8B,SAAS,CAAC,mBAAmB,CAACC,GAAG,CAAE1B,UAAW,CAAA2B,QAAA,eAC/ClC,IAAA,QAAKgC,SAAS,CAAC,QAAQ,CAACG,KAAK,CAAExB,WAAY,CAAM,CAAC,CACjDH,QAAQ,CAAC4B,GAAG,CAAC,CAACC,OAAO,CAAEtB,KAAK,gBACzBf,IAAA,WAEIiC,GAAG,CAAGK,EAAE,EAAK,CACTzB,UAAU,CAACM,OAAO,CAACJ,KAAK,CAAC,CAAGuB,EAAE,CAC9B,GAAID,OAAO,CAACJ,GAAG,CAAEI,OAAO,CAACJ,GAAG,CAACd,OAAO,CAAGmB,EAAE,CAC7C,CAAE,CACFN,SAAS,qBAAAR,MAAA,CAAsBf,WAAW,GAAKM,KAAK,CAAG,QAAQ,CAAG,EAAE,CAAG,CACvEwB,OAAO,CAAEA,CAAA,GAAMzB,kBAAkB,CAACC,KAAK,CAAEsB,OAAO,CAACrB,KAAK,CAAE,CAAAkB,QAAA,CAEvDG,OAAO,CAACG,KAAK,EARTH,OAAO,CAACrB,KAST,CACX,CAAC,EACD,CAAC,CAEd,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}